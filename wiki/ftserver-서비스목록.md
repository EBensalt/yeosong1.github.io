# ft_server μ„λΉ„μ¤ λ©λ΅ 
---------------------------------------------------
## Docker
μ»¨ν…μ΄λ„ κΈ°λ°μ μ¤ν”μ†μ¤ κ°€μƒν™” ν”λ«νΌ.
* κ°€μƒ λ¨Έμ‹  λΉ„μ·ν• κ±΄λ°
* νΈμ¤νΈ OSλ¥Ό λ®μ§€ μ•κ³  κ·Έλ³΄λ‹¨ λ” μ‘μ€ μμ—­μ— λΉλ“ν•΄μ„
* κ°€μƒ λ¨Έμ‹ λ³΄λ‹¤ κ°€λ³κ³  λΉ λ¥΄κ³  κ°„νΈν• κ²ƒμ΄ νΉμ§•.
* [λ„μ»¤ μμ£Ό μ“°λ” λ…λ Ήμ–΄](λ„μ»¤-λ…λ Ήμ–΄-λ¨μ)

### Dockerfile
* **λ„μ»¤ μ΄λ―Έμ§€ λΉλ“ μλ™ν™”λ¥Ό μ„ν• μ§€μ‹λ¬Έ μ„ΈνΈ**κ°€ λ“¤μ–΄κ°€λ” νμΌ. λ©”μ΄ν¬νμΌ λΉ„μ·..
* [Dockerfile λ¬Έλ²•](ft_serverλ„μ»¤νμΌλ¬Έλ²•)

## Debian Buster
* OS μ¤‘ ν•λ‚
* λ°λΉ„μ• GNU/λ¦¬λ…μ¤λΌκ³ λ„ μ•λ ¤μ Έμλ‹¤.
* μ»¤λ®¤λ‹ν‹°μ—μ„ κ°λ°ν• λ¬΄λ£ & μ¤ν”μ†μ¤ μ†ν”„νΈμ›¨μ–΄λ΅ κµ¬μ„±λ Linux λ°°ν¬ν μ¤‘ ν•λ‚μ΄λ‹¤.

## Nginx
* μ›Ή μ„λ²„ μ¤‘ ν•λ‚.
* κ°λ°λ λ©μ : apacheμ C10K λ¬Έμ (ν• μ‹μ¤ν…μ— λ™μ‹μ ‘μ†μ μκ°€ 1λ§λ…μ΄ λ„μ„ λ•)λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄
* νΉμ§•: λΉ„λ™κΈ°, Event-Driven κµ¬μ΅°λ΅ λ§λ“  μ›Ή μ„λ²„ SW.
* μ‚¬μ© μ : OSI 7 6λ λ²¨μΈ Presentation Layerμ—μ„ NGINX κ°™μ€ μ›Ή μ„λ²„κ°€ HTTP ν†µμ‹ μ„ μ κ³µν•κ² λλ‹¤.

## Php-fpm
λΉ λ¥Έ phpμ–Έμ–΄ λ²μ—­κΈ°.
* **php**-**F**astCGI **P**rocess **M**anger
* **CGI**: Common Gateway Interface
  - λ‘ μ»΄ν“¨ν„°(μ„λ²„-ν΄λΌμ΄μ–ΈνΈ) μ‚¬μ΄μ `HTML`λ“±μ μ–Έμ–΄λ¥Ό μ–‘λ°©ν–¥μΌλ΅ λ²μ—­ν•΄μ£Όλ” κ²ƒ
* `nginx`λ” κΈ°λ³Έμ μΈ λ§ν¬μ—… μ–Έμ–΄ νμΌ(μ •μ  νμ΄μ§€)λ§ ν•΄μ„ κ°€λ¥
* `nginx`λ” `php`νμΌ(λ™μ  νμ΄μ§€ = μ΅°κ±΄μ— λ”°λΌ λ³€ν•λ” νμ΄μ§€)μ€ ν•΄μ„ λ¶κ°€(μ•„νμΉλ” κ°€λ¥)
* κ·Έλμ„ `nginx + php` μ΅°ν•©μ—μ„λ” `php-fpm`μ΄ μμ–΄μ•Ό ν•΄μ„μ΄ λ¨
* μ°Έκ³ : `php-fpm` μ„¤μΉν•λ©΄ `php`λ„ μ„¤μΉλ¨.

## MySQL
* SQL λ°μ΄ν„°λ² μ΄μ¤ μ¤‘ ν•λ‚.
* κ΄€κ³„ν• [λ°μ΄ν„°λ² μ΄μ¤](λ°μ΄ν„°λ² μ΄μ¤).
* λ°μ΄ν„°λ² μ΄μ¤λ¥Ό GUIλ΅ κ΄€λ¦¬ν•  μ μλ” λ¬΄λ£ μ†ν”„νΈμ›¨μ–΄.

## Wordpress
* μ¤ν”μ†μ¤ CMS(Contents Management System) μ¤‘ ν•λ‚.
* μ›Ή μ‚¬μ΄νΈ(νμ΄μ§€)ν•νƒλ΅ DBμ— μ ‘κ·Όν•  μ μλ” μ»¨ν…μΈ  κ΄€λ¦¬ μ‹μ¤ν…?
* ν”λ¬κ·ΈμΈ μ•„ν‚¤ν…μ² λ° ν…ν”λ¦Ώ μ‹μ¤ν…(WordPress λ‚΄μ—μ„ ν…λ§λΌκ³  ν•¨)μ΄ ν¬ν•¨λλ‹¤.

## Phpmyadmin
* DB κ΄€λ¦¬ λ„κµ¬ μ¤‘ ν•λ‚.
* λ°μ΄ν„°λ² μ΄μ¤ ν΄λΌμ΄μ–ΈνΈ(= μ›ΉλΈλΌμ°μ €μ²λΌ λ°μ΄ν„°λ² μ΄μ¤ λΈλΌμ°μ € κ°™μ€ κ²ƒμ΄κ³  λ°μ΄ν„°λ² μ΄μ¤ κ·Έ μμ²΄λ” μ•„λ‹)μ ν• μΆ…λ¥.
* μ›Ή μ‚¬μ΄νΈ(νμ΄μ§€)ν•νƒλ΅ μ ‘μ† κ°€λ¥.
* μ„¤μΉ μ „ phpμ™€ MariaDB νΉμ€ MySQLμ΄ μ„¤μΉλμ–΄ μμ–΄μ•Ό ν•λ‹¤. 

# π§ κ³µμ‚¬μ¤‘.......


## SSL protocole (Secure Socket Layer)

* = TLS
* HTTP μ„μ—μ„ λμ•„κ°€λ” ν”„λ΅ν† μ½.
* μ„λ²„<->ν΄λΌμ΄μ–ΈνΈ κ°„ μΈμ¦μ— μ‚¬μ©.
* **μ•”νΈν™”** ν‚¤λ¥Ό μ†΅μμ‹  ν•λ‹¤.
* SSLμ€ λ³΄μ•κ³Ό μ„±λ¥μƒμ μ΄μ λ΅ 2κ°€μ§€ μ•”νΈν™” κΈ°λ²•(λ€μΉ­ν‚¤, κ³µκ°ν‚¤)μ„ νΌμ©ν•΄μ„ μ‚¬μ©

### μ•”νΈν™”
* μμ‹ : love <--- 1234 ---> mpwf 
  - -> μ•”νΈν™”
  - <- λ³µνΈν™”
  - 1234 ν‚¤

#### λ€μΉ­ν‚¤
* μ•”νΈν™”ν•λ” μ‚¬λκ³Ό λ³µνΈν™”(μ•”νΈν•΄λ…)ν•λ” μ‚¬λμ΄ κ°™μ€ 1κ°μ ν‚¤κ°’μ„ μ‚¬μ©ν•λ” κ²ƒ.
* λ‹¨μ : ν‚¤ μ „μ†΅ κ³Όμ •μ—μ„ ν‚¤κ°€ λ…Έμ¶λ  κ²½μ° λ„κµ¬λ‚ ν•΄λ… κ°€λ¥ν•λ‹¤
 
#### κ³µκ°ν‚¤
* ν‚¤κ°€ 2κ°.
* λΉ„κ³µκ° ν‚¤(ν”„λΌμ΄λΉ— ν‚¤, λΉ„λ°€ ν‚¤, κ°μΈ ν‚¤ λ“±μΌλ΅λ„ λ¶€λ¦„) 1κ° / κ³µκ° ν‚¤ 1κ°λ΅ μ΄λ£¨μ–΄μ§.
* Aν‚¤λ΅ μ•”νΈν™”ν•λ©΄ Bν‚¤λ΅λ§ λ³µνΈν™” κ°€λ¥, Bν‚¤λ΅ μ•”νΈν™” ν•λ©΄ Aν‚¤λ΅λ§ λ³µνΈν™” κ°€λ¥.
* κ³µκ°ν‚¤ μ‚¬μ© μμ‹
  1. λ°°ν¬μ Aκ°€ (λΉ„λ°€ ν‚¤ - κ³µκ° ν‚¤) ν• μμ„ λ§λ“ λ‹¤.
  2. νμ› B,C,D μ—κ² κ³µκ° ν‚¤λ§ μ¤€λ‹¤. 
  3. νμ› Bκ°€ λ°°ν¬μ Aμ— μ¤‘μ”ν• λ‚΄μ©μ„ λ‹΄μ€ λ‹µμ¥μ„ λ³΄λ‚΄κ³  μ‹¶λ‹¤ -> κ·Έ λ‚΄μ©μ„ λ°›μ•λ κ³µκ° ν‚¤λ¥Ό μ‚¬μ©ν•΄μ„ μ•”νΈν™” ν•λ‹¤.
  4. μ•”νΈν™”ν• λ‚΄μ©μ„ λ°°ν¬μ Aκ°€ λ°›λ”λ‹¤. μ‚¬μ©λ κ³µκ°ν‚¤μ™€ ν• μμΈ λΉ„λ°€ν‚¤λ¥Ό μ‚¬μ©ν•΄μ„ λ³µνΈν™” ν•μ—¬ μ½λ”λ‹¤.

![231B4738590C36BE1E](https://user-images.githubusercontent.com/53321189/80220462-d671b980-867e-11ea-98ec-09e89c8163df.jpeg)
<br>(SSL μ•„ν‚¤ν…μ² κµ¬μ΅°. [μ¶μ²](https://12bme.tistory.com/80))

### SSL μΈμ¦μ„
* μ—­ν• 
  * (ν΄λΌμ΄μ–ΈνΈ)λ‚΄κ°€ μ ‘μ†ν• μ„λ²„κ°€ μ‹ λΆ°ν•  μ μλ” μ„λ²„μ„μ„ λ³΄μ¥.
  * SSL ν†µμ‹ μ— μ‚¬μ©ν•  κ³µκ°ν‚¤λ¥Ό λ‚(ν΄λΌμ΄μ–ΈνΈ)μ—κ² μ κ³µ.
* μΈμ¦μ„μ— λ‹΄κΈ΄ κ²ƒ(μλ¬Όμ‡  λ„λ¥΄λ©΄ λ³Ό μ μμ)
  * μ„λΉ„μ¤μ μ •λ³΄ (μΈμ¦μ„λ¥Ό λ°κΈ‰ν• CA, μ„λΉ„μ¤μ λ„λ©”μΈ λ“±)
  * μ„λ²„ μΈ΅ κ³µκ°ν‚¤ (κ³µκ°ν‚¤μ λ‚΄μ©, κ³µκ°ν‚¤μ μ•”νΈν™” λ°©λ²•)
* μ •μ: ν΄λΌ-μ„λ²„κ°„ ν†µμ‹ μ„ μ 3μ(CA)κ°€ λ³΄μ¦ν•΄μ¤„ μ μλ„λ΅ μ „λ‹¬λλ” μ „μν™”λ λ¬Έμ„
* CA(Certification Authority)μ μ •μ: κ³µκ°ν‚¤ μ†μ μμ μ‹ λΆ°μ„±μ„ μΈμ¦(κ²€μ¦)ν•΄μ£Όλ” μ 3μ μΈμ¦κΈ°κ΄€.
  - μ©μ–΄ μ‚¬μ© μ μ : Authentication = μΈμ¦, Certification = μκ²© κ²€μ¦
  
μ§„μ§ CAμ μΈμ¦μ„ λ°›μΌλ ¤λ©΄ λΉ„μ©μ΄ λ“λ‹κΉ μ°λ¦¬λ” μ°λ¦¬κ°€ CAκ°€ λλ©΄μ„ SSLμ„ μ“Έ ν…λ°,<br>
κ·Έλ¬λ©΄ μλ¬Όμ‡ ν‘μ‹+https:// μ΄ λ¶€λ¶„μ— λΉ¨κ°„μƒ‰ μ—‘μ¤ν‘κ°€ μ³μ§„λ‹¤.<br>
μ΄λ” μ΄ μ‚¬μ΄νΈκ°€ SSLμ„ μ“°κΈ΄ μ“°λ”λ°, κ³µμΈλ CAκΈ°κ΄€μ μΈμ¦μ„ λ°›μ€ κ²ƒμ€ μ•„λ‹λΌλ” λ»μ΄λ‹¤.


| μ‚¬μ©μ‹ ν‘κΈ° | μλ―Έ | λ‚΄μ© |
|:---|:---|:---|
| CN | Common Name | μΌλ° μ΄λ¦„ (μΈμ¦μ„ κ³ μ  μ΄λ¦„).<br>λ€λ¶€λ¶„μ μΈμ¦κΈ°κ΄€ CAμ—μ„λ” SSLμΈμ¦μ„ μ‹ μ²­μ‹μ— λ„λ©”μΈλ…μ„ CNμΌλ΅ μ§€μ •.|
| O | Organization | κΈ°κ΄€λ… |
| OU | Organization Unit | νμ‚¬/κΈ°κ΄€ λ‚΄μ 'μ‚¬μ—…λ¶€, λ¶€λ¬Έ, λ¶€μ„, λ³Έλ¶€, κ³Ό, ν€' μ •λ„. |
| L | City/Locality | μ‹/λ„ |
| S | State/County/Region | κµ¬/κµ° |
| STREET | Street | λ‚λ¨Έμ§€ μƒμ„Έ μ£Όμ†. (OV,EV μΈμ¦μ‹μ—λ§ ν•„μ”) |
| C | Country | κµ­κ°€λ¥Ό λ‚νƒ€λ‚΄λ” ISO μ½”λ“λ¥Ό μ§€μ •. ν•κµ­μ€ KR, λ―Έκµ­μ€ US λ“± 2μλ¦¬ μ½”λ“ |



### HTTP, HTTPS
* **HTTP**
  - = Hypertext Transfer Protocol
  - = HTML μ „μ†΅ ν†µμ‹ κ·μ•½.
  - **μ•”νΈν™” λμ§€ μ•μ€** λ°©λ²•μΌλ΅ λ°μ΄ν„°λ¥Ό μ „μ†΅
  - μ„λ²„-ν΄λΌμ΄μ–ΈνΈ κ°„ μ¤κ³ κ°€λ” λ©”μ‹μ§€ κ°μ²­μ΄ λ§¤μ° μ‰½λ‹¤.
* **HTTPS**
  - = Hypertext Transfer Protocol Over Secure Socket Layer
  - HTTP + SSL = λ³΄μ•μ΄ μ¶”κ°€λ HTTP.




## url, redirection
## auto index / disable μ¤μ„μΉ



μ¶μ² λ° μ°Έκ³ ν• μ‚¬μ΄νΈ..
[μ•”νΈν™” μ΄κ²ƒλ§ μ•λ©΄ λλ‹¤.](https://www.slideshare.net/ssuser800974/ss-76664853)<br>
[λ°μ΄ν„°λ² μ΄μ¤λ€? - μƒν™μ½”λ”©](https://opentutorials.org/course/195/1467)<br>
[SSL μ•”νΈν™”μ— λ€ν•΄](https://12bme.tistory.com/80)<br>
[SSL μ‹ μ²­μ‹ CSR (Certificate Signing Request) μƒμ„± ν•­λ©](https://www.securesign.kr/guides/kb/56)<br>
[NginX SSL μΈμ¦μ„ μ„¤μΉ/μ μ© κ°€μ΄λ“](https://www.securesign.kr/guides/NGINX-SSL-Certificate-Install)
[μƒν™μ½”λ”© - HTTPSμ™€ SSL μΈμ¦μ„](https://opentutorials.org/course/228/4894)

