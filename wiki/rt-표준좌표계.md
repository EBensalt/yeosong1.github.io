
Contents
- [레이 정의 하기](rt-레이-정의-하기)
- [카메라 레이 만들기](rt-카메라-레이-만들기)
- [표준 좌표계](#표준-좌표계-Standard-Coordinate-Systems)
- [소스 코드](rt-소스코드)

# 표준 좌표계 Standard Coordinate Systems

점 변환 [파이프라인](파이프라인)(vertex transformation pipeline)에 관련해서, 좌표계 점을 변환하는 데 사용되는 용어에는 몇 가지 차이점이 있습니다.
특히, 가장 일반적인 렌더링 API중 하나인 OpenGL과 RenderMan Interface(우리가 이 레슨에서 사용하는 좌표계 정의는 이 인터페이스의 정의를 따릅니다)이 그렇습니다. 당신이 만약 OpenGL 렌더링 pipeline에 익숙하다면 이전 장의 일부 용어가 잘못 사용 되었다고 생각 했을 수도 있습니다.
먼저, 이 레슨은 OpenGL이나 z-버퍼 기반 렌더러에서 사용하는 클래식한 vertex transformation pipeline이 아니라, ray tracer에서 primary rays 또는 camera rays를 생성하는 방법에 관한 것입니다. 이런 광선들을 생성하는 프로세스는 rasterization-based 렌더러에서 이미지 평면에 점을 투영하는 데 사용되는 프로세스와 반대되는 프로세스입니다. 둘째로, 점이 변환되는 공간을 정의하는 데에 사용되는 좌표계의 의미는 우리가 ray tracer를 사용하는지 아니면 래스터라이저를 사용하는지에 의존하는 것이 아니고 관습(convention)의 문제입니다.
일반적으로 world, camera, object, raster 공간은 모든 렌더링 API에서 동일한 정의를 갖지만
클리핑 좌표의 정의는 시스템마다 다를 수 있습니다(특히 OpenGL, NDC, 화면 공간).
primary rays를 만들기 위해 이 단원에서 설명한 시스템과 OpenGL vertex transformation pipeline(이전 단원에서 설명한)사이의 차이를
보다 명확하게 이해하기 위해 다시 간략하게 설명하고 이 장에서 비교합니다. 이 연습이 이 수업을 읽었을 때 그래픽스 API 전문가의 마음에 발생할 수 있는 혼란을 제거 할 수 있기를 바랍니다.

레이 트레이싱에서 우리는 픽셀 위치에서 시작한다. (ray direction을 빌드할 수 있는 이미지 평면 상의 점으로 변환한 그 픽셀 위치)
이 과정은 원래의 "점 좌표"(픽셀 좌표 또는 **raster space**로 표현된 점 좌표)를 **NDC space**로 변환한 다음 **screen space**로 변환하는 작업이 포함됩니다.(이전 장에서 설명한 과정).
래스터에서 NDC로의 변환은 원래 픽셀 좌표를 값 범위 [0,1]에 다시 매핑합니다. NDC- 스크린 공간 변환은 이미지가 정사각형 인 경우 [0,1]에서 [-1,1]로 값을 다시 매핑하고 x 축 및 [-1,1]을 따라 [-종횡비, 종횡비]를 다시 매핑합니다. 이미지의 너비가 높이보다 큰 경우 y 축을 따라. 이 좌표는 카메라 시야각의 탄젠트를 2로 나눈 값으로 조정됩니다. 요약하자면, 우리는 래스터에서 NDC, 그리고 스크린 공간에 있었습니다.










------------------------
[<- 이전 장](rt-카메라-레이-만들기)        Chapter 3 of 4         [다음 장 ->](rt-소스코드)
